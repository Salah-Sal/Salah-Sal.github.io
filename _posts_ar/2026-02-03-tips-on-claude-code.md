---
layout: post
title: "نصائح حول Claude Code: تحقيق أقصى استفادة من مساعدك البرمجي الذكي"
date: 2026-02-03
categories: [الذكاء الاصطناعي, أدوات المطورين]
lang: ar
---

تَرِدُ هذه النصائحُ مباشرةً من "بوريس" (مبتكر Claude Code) وفريق عمله في "Anthropic". واللافتُ أنَّ كلَّ فردٍ في الفريق يستخدمُ "كلود" بأسلوبٍ مغاير؛ إذ لا توجد "طريقةٌ صحيحةٌ" يتيمةٌ لاستخدام "Claude Code"، فإعداداتُ كلِّ مستخدمٍ فريدةٌ. لذا، عليك بالتجريب لتتبينَ ما يُلائمك.

---

## 1. أنجز مهامّك بالتوازي

**هذا هو السبيلُ الأنجعُ لتعظيمِ الإنتاجية**، وهو رأسُ النصائحِ التي يُسديها الفريق.

شغِّل ما بين 3 إلى 5 **أشجار عمل** (git worktrees) في آنٍ واحد، بحيثُ تُدير كلٌّ منها **جلسةَ** "كلود" مستقلةً على التوازي. يستخدم "بوريس" شخصياً **تفريعات "Git"** متعددة (Checkouts)، غير أن جلَّ فريق "Claude Code" يُؤثرون **أشجار العمل**؛ ولهذا خَصَّها المبرمج @amorriscode بدعمٍ أصليٍّ داخل تطبيق "Claude" لسطح المكتب.

يَسِمُ بعضُ أعضاء الفريق **أشجارَ العمل** بحروفٍ بسيطة، ويُعِدُّون أسماءً مستعارةً في سطر الأوامر (Shell Aliases) مثل (`za`, `zb`, `zc`) ليتسنى لهم التنقل بينها بضغطةِ زر. في حين يُفرِدُ آخرون **شجرةَ عملٍ** خاصةً بـ "التحليل" لقراءة السجلات وتشغيل الاستعلامات فحسب، ولا يكتبون فيها كوداً البتة.

### ما هي أشجار العمل (Git Worktrees)؟

تشتملُ مستودعاتُ "git" عادةً على **دليلِ عملٍ واحد**. فإذا كنتَ تعملُ على الميزة `feature-A` واضطررتَ فجأةً لإصلاحِ علةٍ برمجيةٍ في الفرع الرئيسي `main`، لَزِمَكَ أن:

1. تُخزِّن (Stash) أو تُودِع (Commit) عملَك غير المكتمل.
2. تُبدِّل الفرع (`git checkout main`).
3. تُصلح العلة.
4. تعود للفرع السابق (`git checkout feature-A`).
5. تستعيد عملك.

وهذا مَسلكٌ يُعطِّل سيرَ العمل، لا سيما بوجود **جلسةِ** "Claude Code" قيد التشغيل.

جاءت **شجرةُ العمل** لتحلَّ هذه المعضلة؛ إذ تتيح لك امتلاك **أدلةِ عملٍ متعددة** من المستودعِ عينِه، يرتبط كلٌّ منها بـ **فرعٍ** مختلف، وتعملُ جميعها **في وقتٍ واحد**:

```
my-project/              # main branch
my-project-feature-a/    # feature-a branch
my-project-bugfix/       # bugfix branch
```

تتشاركُ هذه الأدلةُ جميعها في تاريخ `.git` ذاتِه، بيدَ أنَّ لكلٍّ منها ملفاتِها المعزولة.

### لِمَ تتميز أشجار العمل بالكفاءة مع Claude Code؟

| دون أشجار العمل | مع أشجار العمل |
|-------------------|----------------|
| جلسة "كلود" واحدة في كل مرة | 3–5 جلسات لـ "كلود" متوازية |
| توقف العمل لتبديل السياق | استقلال تام لكل مهمة |
| خشية تضارب التغييرات غير المودعة | انتفاء التداخل بين المهام |

**مثالٌ لسير العمل:**

```
Terminal 1: ~/project-feature-a/     → Claude building auth system
Terminal 2: ~/project-bugfix/        → Claude fixing production bug
Terminal 3: ~/project-refactor/      → Claude refactoring utils
```

تعملُ جميعها آنياً دون أدنى تضارب.

### أوامر شجرة العمل الأساسية

```bash
# إنشاء شجرة عمل بفرع جديد
git worktree add ../project-feature-a -b feature-a

# إنشاء شجرة عمل من فرع موجود
git worktree add ../project-bugfix bugfix-123

# سرد أشجار العمل كافة
git worktree list

# إزالة شجرة عمل عند الفراغ منها
git worktree remove ../project-feature-a
```

### نصيحة للمحترفين: الأسماء المستعارة (Shell Aliases) للتنقل الفوري

أنشئ أسماءً مستعارةً للانتقال بين **أشجار العمل** بضغطةِ زرٍّ واحدة.

**الخطوة 1:** افتح ملف تكوين "zsh" (تستخدم أنظمة macOS صدفة zsh افتراضياً):

```bash
nano ~/.zshrc
```

**الخطوة 2:** أضف أسماءك المستعارة في ذيل الملف:

```bash
# اختصارات شجرة العمل لجلسات Claude Code
alias za="cd ~/projects/myapp-a"
alias zb="cd ~/projects/myapp-b"
alias zc="cd ~/projects/myapp-c"
```

**الخطوة 3: أعد تحميل ملف التكوين (Config). والآن، عِوضاً عن كتابة المسارِ كاملاً، اكتفِ بكتابة اسمك المستعار (Alias) ثم اضغط مفتاح الإدخال.**

**سير العمل الكامل في "آي تيرم" (iTerm): استخدم الاختصارات Cmd+1 وCmd+2 وCmd+3 للتنقل اللحظي بين علامات التبويب.**

### دورة شجرة العمل الكاملة

**إليك الدورةَ كاملةً من الإعداد إلى التنظيف: الإعداد الأولي، وهيكلة المجلدات لديك، والعمل والإيداع، وإنشاء طلب الدمج، وما يتبع دمجَ الطلب، وأخيراً موازنة شجرة العمل مع الفرع الرئيسي.**

**الإعداد الأولي:**

```bash
cd ~/projects/myapp

# إنشاء أشجار عمل لمهام مختلفة
git worktree add ../myapp-feature-auth -b feature-auth
git worktree add ../myapp-bugfix-login -b bugfix-login
```

**العمل والإيداع:**

```bash
za                    # الانتقال لشجرة عمل الميزة
claude                # تشغيل كلود
> build the login form
> /commit             # الإيداع عند الانتهاء
git push -u origin feature-auth
```

**إنشاء طلب دمج (PR):**

```bash
gh pr create --title "Add authentication" --body "Description here"

# أو دَعْ "كلود" يتولى ذلك:
> create a PR for my changes
```

**بعد دمج الطلب (PR):**

```bash
cd ~/projects/myapp           # العودة لشجرة العمل الرئيسية
git pull origin main          # سحب التغييرات المدمجة
git branch -d feature-auth    # حذف الفرع المدمج
git worktree remove ../myapp-feature-auth  # إزالة شجرة العمل
```

**موازنة شجرة العمل مع الفرع الرئيسي:**

```bash
cd ~/projects/myapp-feature-auth
git fetch origin
git rebase origin/main    # Or: git merge origin/main
```

### التمييز بين المشترك والمعزول

| المشترك عبر أشجار العمل كافة | المعزول لكل شجرة عمل |
|----------------------------|----------------------|
| سجل الإيداعات (Commit history) | ملفات العمل |
| الفروع (Branches) | التغييرات المُرحَّلة (Staged changes) |
| المستودعات البعيدة (Remotes) | الفرع الحالي |
| التخزينات المؤقتة (Stashes) | التعديلات غير المودعة |
| مجلد `.git` | تعديلات الملفات |

**رؤية جوهرية:** **لا يوجد سوى مجلد .git واحد، محفوظٍ داخل شجرة العمل الرئيسية.** **أما أشجار العمل الأخرى، فتضم ملف .git صغيراً يُشير إلى ذلك المجلد الرئيسي.**

**شبِّه الأمر بما يلي: مجلد .git هو بمثابة "مستند Google" مشترك (يرى الجميع التغييرات فوراً)، في حين تماثل ملفات العمل نسختك المطبوعة الخاصة (تظل التعديلات طي الكتمان حتى تُودعها).**

**ومفادُ ذلك: أن الإيداعات في شجرة العمل (أ) تظهر فوراً في شجرة العمل (ب)—دون حاجةٍ لعملية الجَلْب. وأن تعديلات الملفات في شجرة العمل (أ) لا أثر لها على شجرة العمل (ب). كما يمتنع إنشاء شجرتي عمل للفرع نفسِه.**

### البديل: تفريعات "Git" المتعددة (Multiple Git Checkouts)

يُؤثر "بوريس" شخصياً استخدام **تفريعات "Git"** متعددة عوضاً عن **أشجار العمل**. **ويعني هذا استنساخ المستودع ذاتِه مراتٍ عدة؛ فتغدو كل نسخةٍ كياناً مستقلاً تماماً بملف .git خاصٍ بها.**

### الموازنة: أشجار العمل وتفريعات Git

| الجانب | أشجار العمل | تفريعات متعددة |
|--------|-----------|-------------------|
| مساحة القرص | `.git` مشترك (خفيف) | `.git` منفصل لكل منها (أثقل) |
| المزامنة | الإيداعات تظهر فوراً | يلزم إجراء `git pull` لكل واحدة |
| التعقيد | تتطلب تعلماً يسيراً | نموذج ذهني أبسط |
| العزل | تاريخ مشترك | استقلال تام |

**أيهما تختار؟ نوصي بـ "أشجار العمل" لمعظم الحالات؛ لخفتها ومزامنتها التلقائية. أما "التفريعات المتعددة" فهي الأنسب لمن يُفضّل العزل التام أو النهج الأبسط. وكلاهما يُفضي إلى الغاية ذاتها: تشغيل دورات "كود كلود" متعددة على التوازي دون تداخل.**

---

## 2. استهل المهام المعقدة بـ "نمط الخطة" (Plan Mode)

**اكْرِس جهدَكَ للخطة؛ حتى يتسنى لـ "كلود" إنجازُ التنفيذِ دفعةً واحدة.**

**يَكِلُ أحدُ أعضاء الفريق إلى "كلود" مهمةَ كتابةِ الخطة، ثم يشرعُ في جلسةٍ ثانيةٍ ليُراجعها معه بصفته "مهندساً خبيراً" (Staff Engineer).** **ويذكر عضوٌ آخر أنهم ما إنْ تميدَ بهم الأمور عن جادّة الصواب، حتى يعودوا إلى "نمط الخطة" لإعادة التخطيط، مُعرضين عن الإصرار على التنفيذ.** **كما أنهم يستعينون بنمط الخطة في خطوات التحقق، لا في البناء فحسب.**

### كيفية استخدام نمط الخطة

**يُوجِّه نمط الخطة "كلود" لتحليل قاعدة الشيفرة مستعيناً بعمليات "القراءة فقط" قبل إحداث أي تغيير.** **وهو أسلوبٌ أمثلُ لاستكشاف الأكواد المُبهَمَة، أو تخطيط الميزات المعقدة، أو مراجعة التغييرات بمأمنٍ من الخطأ.**

**مواضع الاستخدام: في التنفيذ متعدد الخطوات الذي يطال ملفاتٍ شتى، أو عند استكشاف قاعدة الشيفرة قبل التغيير، أو عند تنقيح النهج المتبع مع "كلود" قبل اعتماده.**

**طريقة التفعيل: اضغط Shift+Tab للتنقل بين "أوضاع الأذونات" أثناء الجلسة. أو ابدأ جلسةً جديدةً بالأمر: `claude --permission-mode plan`. وللتشغيل في "وضع التشغيل دون رأس" (Headless): `claude --permission-mode plan -p "Analyze the authentication system"`. اضغط Ctrl+G لفتح الخطة في محرر النصوص الافتراضي لديك ونقِّحها قبل أن يمضي "كلود" في التنفيذ.**

---

## 3. اعتنِ بملف CLAUDE.md

**بعد كل تصحيح، اختم توجيهك بعبارة: "حدّث ملف CLAUDE.md الخاص بك كي لا تعودَ لمثل هذا الخطأ."** فـ **"كلود"** بارعٌ ببراعةٍ تثيرُ الدهشةَ في سنِّ القواعدِ لنفسِه.

**نقّح ملف CLAUDE.md بصرامةٍ مع مرور الوقت.** **وداوم على التنقيحِ حتى ينخفضَ معدلُ الخطأ لدى "كلود" انخفاضاً ملموساً.**

يُلزم أحد المهندسين **"كلود"** بالاحتفاظ بدليل ملاحظات لكل مهمة، ويُحدِّثه عَقِبَ كل **طلب دمج (PR)**. ثم يربطون ملف `CLAUDE.md` بهذه الملاحظات لضمان استمرار السياق.

---

## 4. صُغ مهاراتك الخاصة وأودِعها في Git

إن كنتَ تُزاول عملاً ما أكثر من مرةٍ يومياً، فحوِّله إلى "مهارة" أو أمر، وأعد استخدامه في مشاريعك كافة.

**أفكار من الفريق:**
- بناء أمر `/techdebt` لتقصّي الكود المكرر واستئصاله في ختام كل جلسة.
- إنشاء أمر يجمع سياق 7 أيام من "Slack" و"Google Drive" و"Asana" و"GitHub" في دفعةٍ واحدة.
- بناء وكلاء متخصصين لكتابة نماذج "dbt" ومراجعة الكود وتشغيل الاختبارات.

استزد من المعلومات في [وثائق المهارات](https://code.claude.com/docs/en/skills#extend-claude-with-skills).

---

## مرجع سريع: مسارات العمل الشائعة

### فهم قاعدة شيفرة جديدة

```
> اعطني نظرة شاملة عن قاعدة الشيفرة هذه
> وضّح أنماط البنية الرئيسية المتبعة هنا
> ما هي نماذج البيانات الأساسية؟
```

### إصلاح العلل (Bugs)

```
> أواجه خطأ عند تشغيل npm test
> اقترح سبلاً لإصلاح @ts-ignore في user.ts
> حدّث user.ts بإضافة التحقق من القيم الفارغة (null check) الذي اقترحته
```

### التعامل مع الاختبارات

```
> استخرج الدوال في NotificationsService.swift التي تفتقر للاختبارات
> أضف اختبارات لخدمة الإشعارات
> أضف اختبارات للحالات الحدية (edge cases) لظروف الخطأ
```

### إنشاء طلبات دمج (PRs)

```
> /commit-push-pr
```

يُنجز هذا الأمر الإيداع، والدفع (push)، وفتح **طلب دمج** في خطوةٍ واحدة.

### التفكير الموسّع (Extended thinking)

يُفعَّل التفكير الموسع افتراضياً، ما يمنح **"كلود"** سعةً تصل إلى 31,999 رمزاً (Token) ليتدبر المشكلات المعقدة. للتبديل استخدم `Option+T` (على macOS) أو `Alt+T` (على Windows/Linux). عاين تفكير **"كلود"** بالضغط على `Ctrl+O`.

### استئناف الجلسات السابقة

```bash
claude --continue    # استكمال أحدث محادثة
claude --resume      # فتح قائمة لاختيار محادثة
```

استخدم `/rename auth-refactor` لتسمية الجلسات تيسيراً لاسترجاعها لاحقاً.

---

## الموارد

- [وثائق Claude Code](https://code.claude.com/docs)
- [مسارات العمل الشائعة](https://code.claude.com/docs/en/common-workflows)
- [أفضل الممارسات](https://code.claude.com/docs/en/best-practices)
- [وثائق المهارات](https://code.claude.com/docs/en/skills)
