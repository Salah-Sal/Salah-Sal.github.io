---
layout: post
title: "نصائح حول Claude Code: تحقيق أقصى استفادة من مساعدك البرمجي الذكي"
date: 2026-02-03
categories: [الذكاء الاصطناعي, أدوات المطورين]
lang: ar
---

تأتي هذه النصائح مباشرة من بوريس (مبتكر Claude Code) وفريق عمله في Anthropic. واللافت في الأمر أن كل فرد في الفريق يستخدم **كلود** بطريقة مغايرة؛ إذ لا توجد "طريقة صحيحة" وحيدة لاستخدام Claude Code، فإعدادات كل شخص فريدة من نوعها. لذا، جرب بنفسك لتكتشف ما يناسبك.

---

## 1. أنجز المزيد بالتوازي

**هذا هو المفتاح الأكبر لزيادة الإنتاجية**، وأهم نصيحة يقدمها الفريق.

قم بتشغيل 3 إلى 5 **أشجار عمل** (git worktrees) في آن واحد، بحيث تدير كل منها **جلسة** كلود مستقلة على التوازي. يستخدم بوريس شخصياً **تفريعات Git** متعددة (multiple checkouts)، لكن معظم فريق Claude Code يفضلون **أشجار العمل**؛ ولهذا السبب قام @amorriscode ببناء دعم أصلي لها داخل تطبيق Claude لسطح المكتب.

يسمي بعض أعضاء الفريق **أشجار العمل** الخاصة بهم بحروف بسيطة ويعدّون أسماء مستعارة في سطر الأوامر (shell aliases) مثل (`za`, `zb`, `zc`) للتنقل بينها بضغطة زر. بينما يحتفظ آخرون بـ **شجرة عمل** مخصصة لـ "التحليل" فقط لقراءة السجلات وتشغيل الاستعلامات، ولا يستخدمونها لكتابة الكود أبداً.

### ما هي أشجار العمل (Git Worktrees)؟

عادةً ما يحتوي **مستودع** git على **دليل عمل واحد**. فإذا كنت تعمل على ميزة `feature-A` واضطررت فجأة لإصلاح خطأ في الفرع الرئيسي `main`، سيتعين عليك:

1. تخزين (stash) أو إيداع (commit) عملك غير المكتمل.
2. تبديل الفروع (`git checkout main`).
3. إصلاح الخطأ.
4. العودة للفرع السابق (`git checkout feature-A`).
5. استعادة عملك.

وهذا أمر معطل لسير العمل، خاصة مع وجود **جلسة** Claude Code قيد التشغيل.

تحل **شجرة العمل** هذه المشكلة عبر إتاحة **أدلة عمل متعددة** من المستودع نفسه، وكل منها على **فرع** مختلف، و**في وقت واحد**:

```
my-project/              # main branch
my-project-feature-a/    # feature-a branch
my-project-bugfix/       # bugfix branch
```

تتشارك جميعها في تاريخ `.git` نفسه، لكن لكل منها ملفاتها المعزولة.

### لماذا تعد أشجار العمل قوية مع Claude Code؟

| بدون أشجار العمل | مع أشجار العمل |
|-------------------|----------------|
| جلسة كلود واحدة في كل مرة | 3–5 جلسات لكلود على التوازي |
| يجب إيقاف العمل لتبديل السياق | كل مهمة معزولة تماماً |
| خطر تضارب التغييرات غير المودعة | لا تداخل بين المهام |

**مثال على سير العمل:**

```
Terminal 1: ~/project-feature-a/     → Claude building auth system
Terminal 2: ~/project-bugfix/        → Claude fixing production bug
Terminal 3: ~/project-refactor/      → Claude refactoring utils
```

جميعها تعمل في وقت واحد دون أي تضارب.

### أوامر شجرة العمل الأساسية

```bash
# إنشاء شجرة عمل بفرع جديد
git worktree add ../project-feature-a -b feature-a

# إنشاء شجرة عمل من فرع موجود
git worktree add ../project-bugfix bugfix-123

# عرض قائمة بكل أشجار العمل
git worktree list

# إزالة شجرة عمل عند الانتهاء
git worktree remove ../project-feature-a
```

### نصيحة للمحترفين: أسماء مستعارة (Shell Aliases) للتنقل الفوري (macOS + iTerm)

قم بإعداد أسماء مستعارة للانتقال بين **أشجار العمل** بضغطة زر واحدة.

**الخطوة 1:** افتح ملف تكوين zsh (يستخدم macOS صدفة zsh افتراضياً):

```bash
nano ~/.zshrc
```

**الخطوة 2:** أضف أسماءك المستعارة في نهاية الملف:

```bash
# اختصارات شجرة العمل لجلسات Claude Code
alias za="cd ~/projects/myapp-a"
alias zb="cd ~/projects/myapp-b"
alias zc="cd ~/projects/myapp-c"
```

**الخطوة 3: أعد تحميل ملف التكوين (Config). والآن، عوضاً عن كتابة المسار كاملاً، اكتفِ بكتابة اسمك المستعار (Alias) ثم اضغط على مفتاح الإدخال.**

**سير العمل الكامل في آي تيرم: استخدم الاختصارات Cmd+1 وCmd+2 وCmd+3 للتنقل الفوري بين علامات التبويب.**

### دورة شجرة العمل الكاملة

**إليك الدورة الكاملة من الإعداد إلى التنظيف: الإعداد الأولي، وهيكل المجلدات لديك، والعمل والإيداع، وإنشاء طلب دمج، وما بعد دمج الطلب، وأخيراً إبقاء شجرة العمل متزامنة مع الفرع الرئيسي.**

**الإعداد الأولي:**

```bash
cd ~/projects/myapp

# إنشاء أشجار عمل لمهام مختلفة
git worktree add ../myapp-feature-auth -b feature-auth
git worktree add ../myapp-bugfix-login -b bugfix-login
```

**العمل والإيداع:**

```bash
za                    # الانتقال لشجرة عمل الميزة
claude                # تشغيل كلود
> build the login form
> /commit             # الإيداع عند الانتهاء
git push -u origin feature-auth
```

**إنشاء طلب دمج (PR):**

```bash
gh pr create --title "Add authentication" --body "Description here"

# أو دع كلود يقوم بذلك:
> create a PR for my changes
```

**بعد دمج طلب الدمج (PR):**

```bash
cd ~/projects/myapp           # الذهاب لشجرة العمل الرئيسية
git pull origin main          # سحب التغييرات المدمجة
git branch -d feature-auth    # حذف الفرع المدمج
git worktree remove ../myapp-feature-auth  # إزالة شجرة العمل
```

**إبقاء شجرة العمل متزامنة مع الفرع الرئيسي:**

```bash
cd ~/projects/myapp-feature-auth
git fetch origin
git rebase origin/main    # Or: git merge origin/main
```

### فهم ما هو مشترك وما هو معزول

| مشترك عبر جميع أشجار العمل | معزول لكل شجرة عمل |
|----------------------------|----------------------|
| سجل الإيداعات (Commit history) | ملفات العمل |
| الفروع (Branches) | التغييرات المرحّلة (Staged changes) |
| المستودعات البعيدة (Remotes) | الفرع الحالي |
| التخزينات المؤقتة (Stashes) | التعديلات غير المودعة |
| مجلد `.git` | تعديلات الملفات |

**رؤية جوهرية:** **لا يوجد سوى مجلد .git واحد، وهو محفوظ داخل شجرة العمل الرئيسية.** **أما أشجار العمل الأخرى، فتحتوي على ملف .git صغير يشير إلى ذلك المجلد الرئيسي.**

**تصور الأمر على النحو التالي: مجلد .git بمثابة مستند Google مشترك (يرى الجميع التغييرات فوراً)، بينما ملفات العمل هي نسختك المطبوعة الخاصة (تظل التعديلات خاصة حتى تقوم بالإيداع).**

**وهذا يعني: أن الإيداعات في شجرة العمل (أ) تكون مرئية فوراً لشجرة العمل (ب)—دون حاجة لعملية الجَلْب. وأن تعديلات الملفات في شجرة العمل (أ) لا تؤثر على شجرة العمل (ب). كما لا يمكنك إنشاء شجرتي عمل لنفس الفرع.**

### البديل: تفريعات Git المتعددة (Multiple Git Checkouts)

يستخدم بوريس شخصياً **تفريعات Git** متعددة بدلاً من **أشجار العمل**. **ويعني هذا استنساخ المستودع نفسه عدة مرات؛ حيث تُعد كل نسخة مستنسخة نسخةً مستقلة تماماً تمتلك مجلد .git خاصاً بها.**

### المقارنة: أشجار العمل مقابل التفريعات المتعددة

| الجانب | أشجار العمل | تفريعات متعددة |
|--------|-----------|-------------------|
| مساحة القرص | `.git` مشترك (خفيف) | `.git` منفصل لكل منها (أثقل) |
| المزامنة | الإيداعات مرئية فوراً | يجب عمل `git pull` في كل واحدة |
| التعقيد | تحتاج تعلماً بسيطاً | نموذج ذهني أبسط |
| العزل | تاريخ مشترك | استقلال تام |

**أيهما تختار؟ أشجار العمل: موصى بها لمعظم الحالات؛ فهي أخف وزناً وتتزامن تلقائياً. التفريعات المتعددة: أفضل إن كنت تفضل العزل التام أو النهج الأبسط. وكلاهما يحقق الهدف ذاته: تشغيل أكثر من دورة كود كلود على التوازي دون تداخل.**

---

## 2. ابدأ كل مهمة معقدة بنمط الخطة (Plan Mode)

**صبَّ طاقتك في الخطة حتى يتمكن كلود من تنفيذها دفعة واحدة.**

**يطلب أحد أعضاء الفريق من كلود كتابة الخطة، ثم يبدأ جلسة ثانية مع كلود لمراجعتها بصفته مهندساً خبيراً (Staff Engineer).** **ويقول عضو آخر إنهم بمجرد أن تنحرف الأمور عن مسارها، يعودون إلى نمط الخطة لإعادة التخطيط، ولا يواصلون الإصرار على التنفيذ.** **كما أنهم يستخدمون نمط الخطة في خطوات التحقق، لا في البناء فحسب.**

### كيفية استخدام نمط الخطة

**يوجه نمط الخطة كلود لتحليل قاعدة الشيفرة باستخدام عمليات القراءة فقط قبل إجراء التغييرات.** **وهو مثالي لاستكشاف الأكواد غير المألوفة، أو تخطيط الميزات المعقدة، أو مراجعة التغييرات بشكل آمن.**

**متى تستخدمه: في عمليات التنفيذ متعددة الخطوات التي تشمل ملفات عديدة، أو عند استكشاف قاعدة الشيفرة قبل إجراء التغييرات، أو عند تنقيح النهج المتبع مع كلود قبل اعتماده.**

**كيفية التفعيل: اضغط Shift+Tab للتبديل بين أوضاع الأذونات أثناء الجلسة. أو ابدأ جلسة جديدة بالأمر: `claude --permission-mode plan`. وللتشغيل في وضع التشغيل بدون رأس: `claude --permission-mode plan -p "Analyze the authentication system"`. اضغط Ctrl+G لفتح الخطة في محرر النصوص الافتراضي لديك وتنقيحها قبل أن يشرع كلود في التنفيذ.**

---

## 3. استثمر في ملف CLAUDE.md الخاص بك

**بعد كل تصحيح، اختم عبارتك بـ: "حدّث ملف CLAUDE.md الخاص بك كي لا تكرر هذا الخطأ مجدداً."** فـ **كلود** بارع بشكل مذهل في كتابة القواعد لنفسه.

**نقّح ملف CLAUDE.md بصرامة مع مرور الوقت.** **واصل التحسين المستمر حتى ينخفض معدل الخطأ لدى كلود بشكل ملحوظ.**

يجعل أحد المهندسين **كلود** يحتفظ بدليل ملاحظات لكل مهمة، ويتم تحديثه بعد كل **طلب دمج (PR)**. ثم يوجهون ملف `CLAUDE.md` للإشارة إلى هذه الملاحظات للحفاظ على سياق دائم.

---

## 4. أنشئ مهاراتك الخاصة وقم بإيداعها في Git

إذا كنت تفعل شيئاً ما أكثر من مرة في اليوم، حوله إلى "مهارة" أو أمر. وأعد استخدامه عبر كل المشاريع.

**أفكار من الفريق:**
- بناء أمر `/techdebt` للعثور على الكود المكرر وحذفه في نهاية كل جلسة.
- إنشاء أمر يزامن 7 أيام من Slack وGoogle Drive وAsana وGitHub في دفعة سياق واحدة.
- بناء وكلاء متخصصين لكتابة نماذج dbt ومراجعة الكود وتشغيل الاختبارات.

تعرف على المزيد في [وثائق المهارات](https://code.claude.com/docs/en/skills#extend-claude-with-skills).

---

## مرجع سريع: سير العمل الشائع

### فهم قاعدة شيفرة جديدة

```
> اعطني نظرة عامة على قاعدة الشيفرة هذه
> اشرح أنماط البنية الرئيسية المستخدمة هنا
> ما هي نماذج البيانات الرئيسية؟
```

### إصلاح الأخطاء (Bugs)

```
> أواجه خطأ عند تشغيل npm test
> اقترح بضع طرق لإصلاح @ts-ignore في user.ts
> حدّث user.ts لإضافة التحقق من القيم الفارغة (null check) الذي اقترحته
```

### العمل مع الاختبارات

```
> اعثر على الدوال في NotificationsService.swift التي لا تغطيها الاختبارات
> أضف اختبارات لخدمة الإشعارات
> أضف اختبارات للحالات الحدية (edge cases) لظروف الخطأ
```

### إنشاء طلبات دمج (PRs)

```
> /commit-push-pr
```

يقوم هذا الأمر بالإيداع، والدفع (push)، وفتح **طلب دمج** في خطوة واحدة.

### التفكير الموسّع (Extended thinking)

يتم تفعيل التفكير الموسع افتراضياً، مما يمنح **كلود** ما يصل إلى 31,999 رمزاً (token) للتفكير في المشكلات المعقدة. للتبديل استخدم `Option+T` (على macOS) أو `Alt+T` (على Windows/Linux). اعرض تفكير **كلود** باستخدام `Ctrl+O`.

### استئناف الجلسات السابقة

```bash
claude --continue    # استكمال المحادثة الأحدث
claude --resume      # فتح قائمة لاختيار محادثة
```

استخدم `/rename auth-refactor` لتسمية الجلسات لسهولة استرجاعها لاحقاً.

---

## الموارد

- [وثائق Claude Code](https://code.claude.com/docs)
- [سير العمل الشائع](https://code.claude.com/docs/en/common-workflows)
- [أفضل الممارسات](https://code.claude.com/docs/en/best-practices)
- [وثائق المهارات](https://code.claude.com/docs/en/skills)
